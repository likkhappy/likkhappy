define("util/swf/handlers",["util/swf/fileprogress"],function(a){function b(a){try{var b=new b(a,this.customSettings.progressTarget);b.setStatus("正在等待..."),b.toggleCancel(!0,this)}catch(c){this.debug(c)}}function c(a,b,c){try{if(b===SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED)return void alert("您正在上传的文件队列过多.\n"+(0===c?"您已达到上传限制":"您最多能选择 "+(c>1?"上传 "+c+" 文件.":"一个文件.")));var d=new d(a,this.customSettings.progressTarget);switch(d.setError(),d.toggleCancel(!1),b){case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:d.setStatus("文件尺寸过大."),this.debug("错误代码: 文件尺寸过大, 文件名: "+a.name+", 文件尺寸: "+a.size+", 信息: "+c);break;case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:d.setStatus("无法上传零字节文件."),this.debug("错误代码: 零字节文件, 文件名: "+a.name+", 文件尺寸: "+a.size+", 信息: "+c);break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:d.setStatus("不支持的文件类型."),this.debug("错误代码: 不支持的文件类型, 文件名: "+a.name+", 文件尺寸: "+a.size+", 信息: "+c);break;default:null!==a&&d.setStatus("未处理的错误"),this.debug("错误代码: "+b+", 文件名: "+a.name+", 文件尺寸: "+a.size+", 信息: "+c)}}catch(e){this.debug(e)}}function d(a){try{a>0&&(document.getElementById(this.customSettings.cancelButtonId).disabled=!1),this.startUpload()}catch(b){this.debug(b)}}function e(a){try{var b=new b(a,this.customSettings.progressTarget);b.setStatus("正在上传..."),b.toggleCancel(!0,this)}catch(c){}return!0}function f(a,b,c){try{var d=Math.ceil(b/c*100),e=new e(a,this.customSettings.progressTarget);e.setProgress(d),e.setStatus("正在上传...")}catch(f){this.debug(f)}}function g(a){try{var b=new b(a,this.customSettings.progressTarget);b.setComplete(),b.setStatus("上传成功"),b.toggleCancel(!1)}catch(c){this.debug(c)}}function h(a,b,c){try{var d=new d(a,this.customSettings.progressTarget);switch(d.setError(),d.toggleCancel(!1),b){case SWFUpload.UPLOAD_ERROR.HTTP_ERROR:d.setStatus("上传错误: "+c),this.debug("错误代码: HTTP错误, 文件名: "+a.name+", 信息: "+c);break;case SWFUpload.UPLOAD_ERROR.UPLOAD_FAILED:d.setStatus("上传失败"),this.debug("错误代码: 上传失败, 文件名: "+a.name+", 文件尺寸: "+a.size+", 信息: "+c);break;case SWFUpload.UPLOAD_ERROR.IO_ERROR:d.setStatus("服务器 (IO) 错误"),this.debug("错误代码: IO 错误, 文件名: "+a.name+", 信息: "+c);break;case SWFUpload.UPLOAD_ERROR.SECURITY_ERROR:d.setStatus("安全错误"),this.debug("错误代码: 安全错误, 文件名: "+a.name+", 信息: "+c);break;case SWFUpload.UPLOAD_ERROR.UPLOAD_LIMIT_EXCEEDED:d.setStatus("超出上传限制."),this.debug("错误代码: 超出上传限制, 文件名: "+a.name+", 文件尺寸: "+a.size+", 信息: "+c);break;case SWFUpload.UPLOAD_ERROR.FILE_VALIDATION_FAILED:d.setStatus("无法验证.  跳过上传."),this.debug("错误代码: 文件验证失败, 文件名: "+a.name+", 文件尺寸: "+a.size+", 信息: "+c);break;case SWFUpload.UPLOAD_ERROR.FILE_CANCELLED:0===this.getStats().files_queued&&(document.getElementById(this.customSettings.cancelButtonId).disabled=!0),d.setStatus("取消"),d.setCancelled();break;case SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED:d.setStatus("停止");break;default:d.setStatus("未处理的错误: "+b),this.debug("错误代码: "+b+", 文件名: "+a.name+", 文件尺寸: "+a.size+", 信息: "+c)}}catch(e){this.debug(e)}}function i(){0===this.getStats().files_queued&&(document.getElementById(this.customSettings.cancelButtonId).disabled=!0)}function j(a){var b=document.getElementById("divStatus");b.innerHTML=a+" 个文件"+(1===a?"":"s")+"已上传."}var k=(a("util/swf/fileprogress"),{fileQueued:b,fileQueueError:c,fileDialogComplete:d,uploadStart:e,uploadProgress:f,uploadSuccess:g,uploadError:h,uploadComplete:i,queueComplete:j});return k});