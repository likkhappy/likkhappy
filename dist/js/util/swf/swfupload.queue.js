define("util/swf/swfupload.queue",[],function(){var a;return"function"==typeof a&&(a.queue={},a.prototype.initSettings=function(b){return function(){"function"==typeof b&&b.call(this),this.customSettings.queue_cancelled_flag=!1,this.customSettings.queue_upload_count=0,this.settings.user_upload_complete_handler=this.settings.upload_complete_handler,this.settings.upload_complete_handler=a.queue.uploadCompleteHandler,this.settings.queue_complete_handler=this.settings.queue_complete_handler||null}}(a.prototype.initSettings),a.prototype.startUpload=function(a){this.customSettings.queue_cancelled_flag=!1,this.callFlash("StartUpload",!1,[a])},a.prototype.cancelQueue=function(){this.customSettings.queue_cancelled_flag=!0,this.stopUpload();for(var a=this.getStats();a.files_queued>0;)this.cancelUpload(),a=this.getStats()},a.queue.uploadCompleteHandler=function(b){var c,d=this.settings.user_upload_complete_handler;if(b.filestatus===a.FILE_STATUS.COMPLETE&&this.customSettings.queue_upload_count++,c="function"==typeof d&&d.call(this,b)===!1?!1:!0){var e=this.getStats();e.files_queued>0&&this.customSettings.queue_cancelled_flag===!1?this.startUpload():this.customSettings.queue_cancelled_flag===!1?(this.queueEvent("queue_complete_handler",[this.customSettings.queue_upload_count]),this.customSettings.queue_upload_count=0):(this.customSettings.queue_cancelled_flag=!1,this.customSettings.queue_upload_count=0)}}),a});